<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.20.xsd">

    <!-- Baseline schema - initial tables created by Hibernate, documented for completeness -->
    <include file="db/changelog/changes/000-initial-schema.xml"/>
    
    <!-- Spring Framework tables - Session and OAuth2 -->
    <include file="db/changelog/changes/000-spring-framework-tables.xml"/>
    
    <!-- Schema changes -->
    <include file="db/changelog/changes/001-add-qotd-auto-approve-and-author-columns.xml"/>
    <include file="db/changelog/changes/002-add-qotd-display-order.xml"/>
    <include file="db/changelog/changes/003-add-qotd-banner-table.xml"/>
    <include file="db/changelog/changes/004-add-qotd-banner-embed-color.xml"/>
    <include file="db/changelog/changes/005-rollback-image-path.xml"/>
    <include file="db/changelog/changes/006-add-qotd-banner-mention-target.xml"/>

    <!-- Multi-streams feature (issue #1) -->
    <include file="db/changelog/changes/007-add-qotd-streams.xml"/>
    <include file="db/changelog/changes/008-rename-deprecated-qotd-tables.xml"/>
    <include file="db/changelog/changes/009-add-submission-target-stream.xml"/>

    <!-- D20 roll mechanic (issue #5) -->
    <include file="db/changelog/changes/010-add-d20-mechanic-columns.xml"/>

    <!-- Battle System - Character Persistence -->
    <include file="db/changelog/changes/011-add-player-character-table.xml"/>

    <!-- Legacy QoTD compatibility (ensure deprecated banner table exists for validation) -->
    <include file="db/changelog/changes/012-ensure-deprecated-qotd-banner.xml"/>

    <!-- Safety: ensure player_character table exists on older file DBs that drifted -->
    <include file="db/changelog/changes/013-ensure-player-character-table.xml"/>

    <!-- Legacy QoTD compatibility (ensure deprecated configs table exists for validation) -->
    <include file="db/changelog/changes/014-ensure-deprecated-qotd-configs.xml"/>

    <!-- Battle System - Abilities (talents/skills/spells) -->
    <include file="db/changelog/changes/015-add-ability-tables.xml"/>
    <include file="db/changelog/changes/016-seed-abilities.xml"/>
    <include file="db/changelog/changes/017-expand-class-abilities.xml"/>

</databaseChangeLog>
